# Example: Orchestra Agent using other Agents as Tools
#
# This demonstrates the Runnable as Tool feature where an Agent can
# call other Agents or Workflows as tools.
#
# Usage:
#   1. First define base agents (research_agent, code_reviewer)
#   2. Then define orchestra agent that uses them as tools
#   3. The orchestra agent can dynamically delegate tasks

type: agent
name: orchestra_example
model: deepseek  # Reference to a model config
enabled: true
repository: mongodb_session_store # 不写不会持久化session
trace_store: trace_store

system_prompt: |
  You are an orchestrator agent that coordinates specialized agents.
  
  You have access to the following specialized agents as tools:
  - call_research_agent: For in-depth research on any topic
  - call_code_reviewer: For reviewing code quality and best practices
  
  When a user asks a question:
  1. Analyze if the task requires specialized expertise
  2. Delegate to appropriate agent(s) using the tools
  3. Synthesize the results and provide a comprehensive answer
  
  For simple questions, you can answer directly without delegation.

tools:
  # Regular built-in tools
  - web_search
  
  # Agent as Tool - wraps another agent
  - type: agent_tool
    agent: researcher
    description: |
      Expert at researching topics in depth. 
      Use this for questions requiring extensive research or analysis.
  
  - type: agent_tool
    agent: code_assistant
    description: |
      Expert at coding.
  
  # Workflow as Tool - wraps a workflow pipeline
  # - type: workflow_tool
  #   workflow: analysis_pipeline
  #   description: |
  #     Complete analysis pipeline that first researches,
  #     then reviews, and finally summarizes findings.

tags:
  - orchestrator
  - multi-agent
